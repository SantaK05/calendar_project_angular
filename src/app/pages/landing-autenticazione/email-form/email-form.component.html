<div class="card register-card">
    <div class="card-body">
        <h3 class="card-title text-center">Registrazione</h3>
        <form [formGroup]="form" method="dialog">
            <p class="text-start">Per prima cosa, inserisci la tua email</p>
            <div class="form-floating mt-4 mb-4">
                <input formControlName="email" type="email" class="form-control" id="email" placeholder="" name="email"
                    required [(ngModel)]="email"> <label for="email">Email*</label>
                <span [ngClass]="form.get('email')?.pending ? 'spinner-border spinner-border-sm text-light' : ''"></span>
                <div class="container d-flex validation-message-container align-items-center"
                    [class.show]="emailErrors?.['emailExists'] && form.get('email')?.dirty">
                    <i class="bx bxs-error-circle" style="color:#fa0101;"></i>
                    <p class="text-danger m-0">Email già registrata</p>
                </div>
                <div class="container d-flex validation-message-container align-items-center"
                    [class.show]="emailErrors?.['serverError'] && form.get('email')?.dirty">
                    <i class="bx bxs-error-circle" style="color:#fa0101;"></i>
                    <p class="text-danger m-0">Errore interno, riprova più tardi</p>
                </div>
                <div class="container d-flex validation-message-container align-items-center"
                    [class.show]="(emailErrors?.['email'] || emailErrors?.['required'])&& form.get('email')?.dirty">
                    <i class="bx bxs-error-circle" style="color:#fa0101;"></i>
                    <p class="text-danger m-0">Email non valida</p>
                </div>
                <div class="container d-flex validation-message-container align-items-center"
                    [class.show]="form.get('email')?.valid">
                    <i class="bx bxs-check-circle" style="color:#5cb85c;"></i>
                    <p class="text-success m-0">Email disponibile</p>
                </div>
            </div>
            <div class="d-flex justify-content-end mb-0">
                <button class="invisible-button" (click)="changeComponent()" [disabled]="!form.valid"><i
                        class='bx bx-md bx-right-arrow-circle'></i></button>
            </div>
        </form>
        <a [routerLink]="'/login'" class="custom-link">Già registrato?</a>
    </div>
</div>